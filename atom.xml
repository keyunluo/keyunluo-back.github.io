<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>浮舟沧海</title>
  <subtitle>他跑啊跑啊，只为追上那个曾经被寄予厚望的自己</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://keyunluo.github.io/"/>
  <updated>2016-05-23T08:44:45.438Z</updated>
  <id>http://keyunluo.github.io/</id>
  
  <author>
    <name>流光</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Elasticsearch入门学习(2)——服务URL</title>
    <link href="http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-2.html"/>
    <id>http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-2.html</id>
    <published>2016-04-11T11:42:53.000Z</published>
    <updated>2016-05-23T08:44:45.438Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ElasticSearch&lt;/strong&gt;elasticsearch 将各种功能、配置、服务都以API的形式暴露，这也是elasticsearch区别于其他搜索引擎框架的一个特征，本文将ES中常用的URL整理以供查询。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;与Elasticsearch交互&quot;&gt;&lt;a href=&quot;#与Elasticsearch交互&quot; class=&quot;headerlink&quot; title=&quot;与Elasticsearch交互&quot;&gt;&lt;/a&gt;与Elasticsearch交互&lt;/h2&gt;&lt;p&gt;如何与Elasticsearch交互取决于你是否使用Java，可以分为&lt;code&gt;Java API交互&lt;/code&gt;和&lt;code&gt;基于HTTP协议，以JSON为数据交互格式的RESTful API&lt;/code&gt;两种，本文主要讲解使用RESTful API，通过9200端口的与Elasticsearch进行通信。使用java则端口为9300.&lt;/p&gt;
&lt;p&gt;向Elasticsearch发出的请求的组成部分与其它普通的HTTP请求是一样的：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -X&amp;lt;VERB&amp;gt; &#39;&amp;lt;PROTOCOL&amp;gt;://&amp;lt;HOST&amp;gt;:&amp;lt;PORT&amp;gt;/&amp;lt;PATH&amp;gt;?&amp;lt;QUERY_STRING&amp;gt;&#39; -d &#39;&amp;lt;BODY&amp;gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;VERB HTTP方法：GET, POST, PUT, HEAD, DELETE&lt;/li&gt;
&lt;li&gt;PROTOCOL http或者https协议（只有在Elasticsearch前面有https代理的时候可用）&lt;/li&gt;
&lt;li&gt;HOST Elasticsearch集群中的任何一个节点的主机名，如果是在本地的节点，那么就叫localhost&lt;/li&gt;
&lt;li&gt;PORT Elasticsearch HTTP服务所在的端口，默认为9200&lt;/li&gt;
&lt;li&gt;PATH API路径（例如_count将返回集群中文档的数量），PATH可以包含多个组件，例如_cluster/stats或者_nodes/stats/jvm&lt;/li&gt;
&lt;li&gt;QUERY_STRING 一些可选的查询请求参数，例如?pretty参数将使请求返回更加美观易读的JSON数据&lt;/li&gt;
&lt;li&gt;BODY 一个JSON格式的请求主体（如果请求需要的话）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例如，为了计算集群中的文档数量，我们可以这样做：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave01 ~]$ curl -XGET &#39;http://localhost:9200/_count?pretty&#39; -d &#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;query&quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;match_all&quot;: &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;count&quot; : 3498781,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;_shards&quot; : &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;total&quot; : 37,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;successful&quot; : 37,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;failed&quot; : 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Elasticsearch返回一个类似200 OK的HTTP状态码和JSON格式的响应主体（除了HEAD请求）。&lt;/p&gt;
&lt;h2 id=&quot;Elasticsearch常见服务URL&quot;&gt;&lt;a href=&quot;#Elasticsearch常见服务URL&quot; class=&quot;headerlink&quot; title=&quot;Elasticsearch常见服务URL&quot;&gt;&lt;/a&gt;Elasticsearch常见服务URL&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;HTTP方法: POST新增，PUT更新，GET获取，DELETE删除，HEAD判断是否存在&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;集群健康查看:&lt;code&gt;curl  &amp;#39;http://server:9200/_cat/health?v&amp;#39;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1460378717&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;45&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;  Elasticsearch green           &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;74&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;37&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;             &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;                  -                &lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt;%&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;节点健康查看:&lt;code&gt;curl  &amp;#39;http://server:9200/_cat/nodes?v&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;host            ip              heap.percent ram.percent load node.role master name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.107&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.107&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;          &lt;span class=&quot;number&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.00&lt;/span&gt; d         -      ES-Hadoop-Spark-Node1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.110&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.110&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;          &lt;span class=&quot;number&quot;&gt;23&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.01&lt;/span&gt; d         -      ES-Hadoop-Spark-Node2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.101&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.101&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;19&lt;/span&gt;          &lt;span class=&quot;number&quot;&gt;27&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1.80&lt;/span&gt; d         *      ES-Hadoop-Spark-Master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;列出集群索引:&lt;code&gt;curl  &amp;#39;http://server:9200/_cat/indices?v&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;health status index                 pri rep docs.count docs.deleted store.size pri.store.size&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;green  open   demo                    &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;          &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;7.9&lt;/span&gt;kb          &lt;span class=&quot;number&quot;&gt;3.9&lt;/span&gt;kb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;green  open   my_index                &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;            &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;53.4&lt;/span&gt;kb         &lt;span class=&quot;number&quot;&gt;26.7&lt;/span&gt;kb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;green  open   .marvel-es&lt;span class=&quot;number&quot;&gt;-2016.03&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.29&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;162773&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;54&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;94.6&lt;/span&gt;mb         &lt;span class=&quot;number&quot;&gt;47.3&lt;/span&gt;mb&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;创建customer索引,pretty表示打印json响应:&lt;code&gt;curl -XPUT &amp;#39;http://server:9200/customer?pretty&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;acknowledged&quot;&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;索引数据：&lt;code&gt;curl -XPUT &amp;#39;http://server:9200/customer/external/1?pretty&amp;#39; &amp;#39;-d { &amp;quot;name&amp;quot;:&amp;quot;JOhn Doe&amp;quot;}&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_index&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;customer&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_type&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;external&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_id&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_version&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_shards&quot;&lt;/span&gt; : &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;total&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;successful&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;failed&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;created&quot;&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;查询数据：&lt;code&gt;curl -XGET &amp;#39;http://server:9200/customer/external/1?pretty&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_index&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;customer&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_type&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;external&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_id&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_version&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;found&quot;&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_source&quot;&lt;/span&gt; : &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;JOhn Doe&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;删除索引:&lt;code&gt;curl -XDELETE &amp;#39;http://server:9200/customer?pretty&lt;/code&gt; `&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;通过id更新索引数据:&lt;code&gt;curl -XPUT &amp;#39;http://server:9200/customer/external/1?pretty&amp;#39; &amp;#39;-d { &amp;quot;name&amp;quot;:&amp;quot;JOhn Doe&amp;quot;}&amp;#39;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_index&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;customer&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_type&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;external&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_id&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_version&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_shards&quot;&lt;/span&gt; : &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;total&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;successful&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;failed&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;created&quot;&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;添加索引数据随机id:&lt;code&gt;curl -XPOST &amp;#39;http://server:9200/customer/external?pretty&amp;#39; &amp;#39;-d { &amp;quot;name&amp;quot;:&amp;quot;JOhn Doe&amp;quot;}&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_index&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;customer&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_type&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;external&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_id&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;AVQFbXxylcDfhGhMoLpJ&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_version&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;_shards&quot;&lt;/span&gt; : &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;total&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;successful&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;failed&quot;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;created&quot;&lt;/span&gt; : &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;通过id删除：&lt;code&gt;curl -XDELETE &amp;#39;http://server:9200/customer/external/2?pretty&amp;#39;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;通过查询删除:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -XDELETE &#39;http://server:9200/customer/external/_query?pretty&#39; -d &#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;query&quot;: &amp;#123; &quot;match&quot;: &amp;#123; &quot;name&quot;: &quot;John&quot; &amp;#125; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;批量新增&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -XPOST &#39;http://server:9200/customer/external/_bulk?pretty&#39; -d &#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;index&quot;:&amp;#123;&quot;_id&quot;:&quot;1&quot;&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;name&quot;: &quot;John Doe&quot; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;index&quot;:&amp;#123;&quot;_id&quot;:&quot;2&quot;&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;name&quot;: &quot;Jane Doe&quot; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;批量更新/删除&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -XPOST &#39;http://server:9200/customer/external/_bulk?pretty&#39; -d &#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;update&quot;:&amp;#123;&quot;_id&quot;:&quot;1&quot;&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;doc&quot;: &amp;#123; &quot;name&quot;: &quot;John Doe becomes Jane Doe&quot; &amp;#125; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&quot;delete&quot;:&amp;#123;&quot;_id&quot;:&quot;2&quot;&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;读文件批量索引&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -XPOST &#39;http://server:9200/bank/account/_bulk?pretty&#39; --data-binary @accounts.json&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;批量索引操作&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -XPOST &#39;http://server:9200/bank/_search?pretty&#39; -d &#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;query&quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;bool&quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &quot;must&quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123; &quot;match&quot;: &amp;#123; &quot;address&quot;: &quot;mill&quot; &amp;#125; &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123; &quot;match&quot;: &amp;#123; &quot;address&quot;: &quot;lane&quot; &amp;#125; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;查看进程信息，包括打开文件数，是否锁定内存等:&lt;code&gt;curl &amp;#39;http://server:9200/_nodes/process?pretty&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;索引相关&quot;&gt;&lt;a href=&quot;#索引相关&quot; class=&quot;headerlink&quot; title=&quot;索引相关&quot;&gt;&lt;/a&gt;索引相关&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;URL&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_search&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;不解释&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_aliases&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获取或操作索引的别名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/type/&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;创建或操作类型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_mapping&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;创建或操作mapping&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_settings&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;创建或操作设置(number_of_shards是不可更改的)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_open&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;打开被关闭的索引&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_close&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;关闭索引&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_refresh&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;刷新索引（使新加内容对搜索可见）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_flush&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;刷新索引，将变动提交到lucene索引文件中，并清空elasticsearch的transaction log&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_optimize&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;优化segement，个人认为主要是对segement进行合并&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_status&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得索引的状态信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_segments&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得索引的segments的状态信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_explain&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;不执行实际搜索，而返回解释信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/_analyze&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;不执行实际搜索，根据输入的参数进行文本分析&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/type/id&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;操作指定文档，不解释&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/type/id/_create&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;创建一个文档，如果该文件已经存在，则返回失败&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/index/type/id/_update&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;更新一个文件，如果改文件不存在，则返回失败&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;集群相关&quot;&gt;&lt;a href=&quot;#集群相关&quot; class=&quot;headerlink&quot; title=&quot;集群相关&quot;&gt;&lt;/a&gt;集群相关&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;URL&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_cluster/nodes&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得集群中的节点列表和信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_cluster/health&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得集群信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_cluster/state&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得集群里的所有信息（集群信息、节点信息、mapping信息等）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;节点相关&quot;&gt;&lt;a href=&quot;#节点相关&quot; class=&quot;headerlink&quot; title=&quot;节点相关&quot;&gt;&lt;/a&gt;节点相关&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;URL&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/process&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;主要看file descriptor 这个信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/process/stats&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;统计信息（内存、CPU等）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/jvm&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得各节点的虚拟机统计和配置信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/jvm/stats&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;更详细的虚拟机信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/http&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得各个节点的http信息（如ip地址）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/http/stats&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得各个节点处理http请求的统计情况&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/thread_pool&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得各种类型的线程池，（elasticsearch分别对不同的操作提供不同的线程池）的配置信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;/_nodes/thread_pool/stats&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;获得各种类型的线程池的统计信息&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;以上这些操作可以通过如：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/_nodes/${nodeId}/jvm/stats&lt;/code&gt;，&lt;code&gt;/_nodes/${nodeip}/jvm/stats&lt;/code&gt;，&lt;code&gt;/_nodes/${nodeattribute}/jvm/stats&lt;/code&gt;的形式针对指定节点的操作。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ElasticSearch&lt;/strong&gt;elasticsearch 将各种功能、配置、服务都以API的形式暴露，这也是elasticsearch区别于其他搜索引擎框架的一个特征，本文将ES中常用的URL整理以供查询。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="elasticsearch" scheme="http://keyunluo.github.io/categories/elasticsearch/"/>
    
    
      <category term="elasticsearch" scheme="http://keyunluo.github.io/tags/elasticsearch/"/>
    
      <category term="大数据" scheme="http://keyunluo.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>Elasticsearch入门学习(1)——安装</title>
    <link href="http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-1.html"/>
    <id>http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-1.html</id>
    <published>2016-04-11T10:42:53.000Z</published>
    <updated>2016-05-23T08:44:45.438Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ElasticSearch&lt;/strong&gt;是一个基于Lucene的接近实时的搜索平台。它提供了一个分布式多用户能力的全文搜索引擎，基于RESTful web接口，是当前流行的企业级搜索引擎。本文先从安装Elasticsearch开始，一步一步探索。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ES下载和安装&quot;&gt;&lt;a href=&quot;#ES下载和安装&quot; class=&quot;headerlink&quot; title=&quot;ES下载和安装&quot;&gt;&lt;/a&gt;ES下载和安装&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;es(官方下载地址)[&lt;a href=&quot;https://www.elastic.co/downloads/elasticsearch]，最新版本为2.3.1。不过github上有一个更好的选择(ElasticSearch-RTF)[https://github.com/medcl/elasticsearch-rtf.git],这个版本中已经集成了中文分词插件等，并且已经将插件配置好了，最新版本为2.2.1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.elastic.co/downloads/elasticsearch]，最新版本为2.3.1。不过github上有一个更好的选择(ElasticSearch-RTF)[https://github.com/medcl/elasticsearch-rtf.git],这个版本中已经集成了中文分词插件等，并且已经将插件配置好了，最新版本为2.2.1&lt;/a&gt; ，非常适合初学者。安装时注意了，不要使用root权限用户安装es，否则es启动会报错，应该创建一个普通的用户安装es。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;运行环境&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux和windows均可&lt;/li&gt;
&lt;li&gt;jdk7+&lt;/li&gt;
&lt;li&gt;32位/64位&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;配置文件&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本文将Elasticsearch安装在&lt;code&gt;/opt/bigdata/elasticsearch&lt;/code&gt;目录下，版本为&lt;code&gt;2.2.0&lt;/code&gt;，集群为&lt;code&gt;Redhat7&lt;/code&gt;，配置文件为&lt;code&gt;/opt/bigdata/elasticsearch/config/elasticsearch.yml&lt;/code&gt;，下面贴上配置文件：&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# ======================== Elasticsearch Configuration =========================&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# NOTE: Elasticsearch comes with reasonable defaults &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; most settings.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#       Before you &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; out to tweak and tune the configuration, make sure you&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#       understand what are you trying to accomplish and the consequences.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# The primary way of configuring a node is via &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; file. This &lt;span class=&quot;keyword&quot;&gt;template&lt;/span&gt; lists&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# the most important settings you may want to configure &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; a production cluster.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Please see the documentation &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; further information on configuration options:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;lt;http:&lt;span class=&quot;comment&quot;&gt;//www.elastic.co/guide/en/elasticsearch/reference/current/setup-configuration.html&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ---------------------------------- Cluster -----------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Use a descriptive name &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; your cluster:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 集群名称&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; cluster.name: Elasticsearch&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ------------------------------------ Node ------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Use a descriptive name &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the node:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 节点信息&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; node.name: ES-Hadoop-Spark-Master&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; node.master: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; node.data: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; index.number_of_replicas: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Add custom attributes to the node:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# node.rack: r1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ----------------------------------- Paths ------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Path to directory where to store the data (separate multiple locations by comma):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 数据路径&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; path.data: /opt/elasticsearch/data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Path to &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; files:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# path.logs: /path/to/logs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; path.logs: /opt/elasticsearch/logs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; path.work: /opt/elasticsearch/work&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ----------------------------------- Memory -----------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Lock the memory on startup:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# bootstrap.mlockall: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Make sure that the `ES_HEAP_SIZE` environment variable is &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; to about half the memory&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# available on the system and that the owner of the process is allowed to use &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; limit.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Elasticsearch performs poorly when the system is swapping the memory.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ---------------------------------- Network -----------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Set the bind address to a specific IP (IPv4 or IPv6):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 网络，设置为外网可以访问&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; network.host: &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Set a custom port &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; HTTP:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 端口，默认&lt;span class=&quot;number&quot;&gt;9200&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; http.port: &lt;span class=&quot;number&quot;&gt;9200&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# For more information, see the documentation at:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;lt;http:&lt;span class=&quot;comment&quot;&gt;//www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# --------------------------------- Discovery ----------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Pass an initial &lt;span class=&quot;built_in&quot;&gt;list&lt;/span&gt; of hosts to perform discovery when &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; node is started:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# The &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;list&lt;/span&gt; of hosts is [&lt;span class=&quot;string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;[::1]&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# discovery.zen.ping.unicast.hosts: [&lt;span class=&quot;string&quot;&gt;&quot;host1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;host2&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Prevent the &lt;span class=&quot;string&quot;&gt;&quot;split brain&quot;&lt;/span&gt; by configuring the majority of nodes (total number of nodes / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# discovery.zen.minimum_master_nodes: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# For more information, see the documentation at:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;lt;http:&lt;span class=&quot;comment&quot;&gt;//www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery.html&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 设置节点自动发现&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; discovery.zen.minimum_master_nodes: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; discovery.zen.ping.timeout: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;s    ##节点间自动发现的响应时间&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; discovery.zen.ping.unicast.hosts: [&lt;span class=&quot;string&quot;&gt;&quot;192.168.100.101&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ---------------------------------- Gateway -----------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Block initial recovery after a full cluster restart until N nodes are started:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# gateway.recover_after_nodes: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# For more information, see the documentation at:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;lt;http:&lt;span class=&quot;comment&quot;&gt;//www.elastic.co/guide/en/elasticsearch/reference/current/modules-gateway.html&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# ---------------------------------- Various -----------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Disable starting multiple nodes on a single system:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# node.max_local_storage_nodes: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Require &lt;span class=&quot;keyword&quot;&gt;explicit&lt;/span&gt; names when deleting indices:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# action.destructive_requires_name: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在上述配置中，已经设置主节点为&lt;code&gt;192.168.100.101&lt;/code&gt;，还有两个从节点&lt;code&gt;192.168.100.107&lt;/code&gt;以及&lt;code&gt;192.168.100.110&lt;/code&gt;，它们的配置不同点在于&lt;code&gt;Node&lt;/code&gt;的设置，从节点中设置如下：&lt;code&gt;node.name: ES-Hadoop-Spark-Node1&lt;/code&gt;，&lt;code&gt;node.master: false&lt;/code&gt;,因为设置了节点的自动发现机制，所以在启动Elasticsearch后，集群会自动根据&lt;code&gt;cluster.name: Elasticsearch&lt;/code&gt;来添加数据节点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;启动集群
进入&lt;code&gt;/opt/bigdata/elasticsearch&lt;/code&gt;，运行&lt;code&gt;bin/elasticsearch&lt;/code&gt;,便可以启动&lt;code&gt;elasticsearch&lt;/code&gt;，如果想当shell关闭时任然要在后台运行elasticsearch服务，可以运行命令&lt;code&gt;nohub bin/elasticsearch &amp;amp;&lt;/code&gt;,这样当shell关闭时，仍可访问服务。分别进入到两个数据节点，运行同样的命令，这样，集群便搭建好了。
当然我们也可以在启动的时候修改集群的名称和节点的名称。例如：
&lt;code&gt;bin/elasticsearch --cluster.name my_cluster_name --node.name my_node_name&lt;/code&gt;来指定集群名字和主节点。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ES插件安装&quot;&gt;&lt;a href=&quot;#ES插件安装&quot; class=&quot;headerlink&quot; title=&quot;ES插件安装&quot;&gt;&lt;/a&gt;ES插件安装&lt;/h2&gt;&lt;p&gt;&lt;code&gt;head&lt;/code&gt;插件可以很方便的查询数据和监控集群健康状况，下面以&lt;code&gt;head&lt;/code&gt;插件安装为例，介绍下ES2.x下插件安装的一般步骤。&lt;/p&gt;
&lt;p&gt;进入&lt;code&gt;/opt/bigdata/elasticsearch&lt;/code&gt;目录，运行&lt;code&gt;bin/plugin install mobz/elasticsearch-head&lt;/code&gt;, 下载完成后，访问网址&lt;code&gt;http://server:9200/_plugin/head/&lt;/code&gt;，便可以看到如下界面，说明安装成功。
&lt;img src=&quot;../../images/blog/2016-04/elasticsearch-head.png&quot; alt=&quot;head&quot;&gt;&lt;/p&gt;
&lt;p&gt;插件可以分为核心插件和非核心插件，核心插件是官方提供的，可以直接安装，例如&lt;code&gt;bin/plugin install analysis-icu&lt;/code&gt;，这样就会下载合适的版本安装到Elasticsearch中。非核心插件可以是官方提供的，也可以是社区提供的，可以从官方，Maven或者GitHub中下载安装：&lt;code&gt;bin/plugin install [org]/[user|component]/[version]&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;例如，安装github上的插件，&lt;code&gt;plugin install lmenezes/elasticsearch-kopf&lt;/code&gt;，插件会尝试先到官方去下载，如果没有找到会到maven.com中去下载，如果在没有找到回到github中去下载。脚本还是非常智能的。当我们从直接maven中央库中安装时可以直接使用下面的方式，最后的版本号是必须要写的。
&lt;code&gt;plugin install org.elasticsearch.plugin/mapper-attachments/3.0.0&lt;/code&gt;
从自定义网址或者本地安装：&lt;code&gt;plugin install [url]&lt;/code&gt;，例如，在本地文件系统中安装一个插件，可以运行：&lt;code&gt;plugin install file:///path/to/plugin.zip&lt;/code&gt;。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ElasticSearch&lt;/strong&gt;是一个基于Lucene的接近实时的搜索平台。它提供了一个分布式多用户能力的全文搜索引擎，基于RESTful web接口，是当前流行的企业级搜索引擎。本文先从安装Elasticsearch开始，一步一步探索。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="elasticsearch" scheme="http://keyunluo.github.io/categories/elasticsearch/"/>
    
    
      <category term="elasticsearch" scheme="http://keyunluo.github.io/tags/elasticsearch/"/>
    
      <category term="大数据" scheme="http://keyunluo.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>使用Sqoop从Oracle中导入数据到hadoop</title>
    <link href="http://keyunluo.github.io/2016/04/09/2016-04-09-using-sqoop2-oracledb-hadoop.html"/>
    <id>http://keyunluo.github.io/2016/04/09/2016-04-09-using-sqoop2-oracledb-hadoop.html</id>
    <published>2016-04-09T05:28:43.000Z</published>
    <updated>2016-05-23T08:44:45.438Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本节内容：&lt;/strong&gt;本篇博文记录从Oracle12c导入数据到Hadoop中的流程，使用Sqoop2工具,目前Sqoop2只支持将oracle/mysql数据库中的数据与HDFS中数据相互导入导出，目前并不支持导入到HBase/Hive中，因此在实际业务中并不好用，后面介绍使用Sqoop1导入数据到Hbase的流程。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Sqoop2安装过程&quot;&gt;&lt;a href=&quot;#Sqoop2安装过程&quot; class=&quot;headerlink&quot; title=&quot;Sqoop2安装过程&quot;&gt;&lt;/a&gt;Sqoop2安装过程&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;1&lt;/em&gt;: 下载最新版本的sqoop2:sqoop1.99.6&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;wget http://mirrors.ustc.edu.cn/apache/sqoop/1.99.6/sqoop-1.99.6-bin-hadoop200.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;本人将其安装在服务器&lt;code&gt;slave01&lt;/code&gt;中的&lt;code&gt;/opt/bigdata/sqoop&lt;/code&gt;目录下。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;2&lt;/em&gt;:配置环境变量:在&lt;code&gt;/etc/profile&lt;/code&gt;中配置环境变量&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;export SQOOP2_HOME=/opt/bigdata/sqoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export PATH=$PATH:$SQOOP2_HOME/bin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export CATALINA_BASE=$SQOOP2_HOME/server&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export LOGDIR=$SQOOP2_HOME/logs&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在Bash中运行&lt;code&gt;source /etc/profile&lt;/code&gt;使环境变量立即生效。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;3&lt;/em&gt;: Sqoop服务端配置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编辑&lt;code&gt;$SQOOP2_HOME/server/conf/catalina.properties&lt;/code&gt;文件，修改&lt;code&gt;common.loader&lt;/code&gt;配置，将Hadoop路径下的jar包全部包括进去。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;common.loader=$&amp;#123;catalina.base&amp;#125;/lib/*.jar,$&amp;#123;catalina.base&amp;#125;/lib/*.jar,$&amp;#123;catalina.home&amp;#125;/lib/*.jar,$&amp;#123;catalina.home&amp;#125;/lib/*.jar,$&amp;#123;catalina.home&amp;#125;/../lib/*.jar,/opt/bigdata/sqoop/server/lib/*.jar,/opt/hadoop-2.7.1/etc/hadoop,/opt/hadoop-2.7.1/share/hadoop/common/lib/*.jar,/opt/hadoop-2.7.1/share/hadoop/common/*.jar,/opt/hadoop-2.7.1/share/hadoop/hdfs/*.jar,/opt/hadoop-2.7.1/share/hadoop/hdfs/lib/*.jar,/opt/hadoop-2.7.1/share/hadoop/hdfs/*.jar,/opt/hadoop-2.7.1/share/hadoop/yarn/lib/*.jar,/opt/hadoop-2.7.1/share/hadoop/yarn/*.jar,/opt/hadoop-2.7.1/share/hadoop/mapreduce/lib/*.jar,/opt/hadoop-2.7.1/share/hadoop/mapreduce/*.jar,/opt/bigdata/hbase/lib/*.jar&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;编辑&lt;code&gt;$SQOOP2_HOME/server/conf/sqoop.properties&lt;/code&gt;文件，修改Hadoop安装的配置目录:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;org.apache.sqoop.submission.engine.mapreduce.configuration.directory=/opt/hadoop-2.7.1/etc/hadoop/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;找到这行&lt;code&gt;org.apache.sqoop.repository.jdbc.url=jdbc:derby:@BASEDIR@/repository/db;create=true&lt;/code&gt;,修改&lt;code&gt;@BASEDIR@&lt;/code&gt;为&lt;code&gt;sqoop2&lt;/code&gt;安装目录：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;org.apache.sqoop.repository.jdbc.url=jdbc:derby:/opt/bigdata/sqoop/repository/db;create=true&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;4&lt;/em&gt;:下载数据库驱动&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;必备驱动：Mysql数据取驱动是必须使用的，这里使用的是&lt;code&gt;mysql-connector-java-5.1.37-bin.jar&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Oracle驱动：因为要连接Oracle数据库，所以还要使用oracle的驱动：&lt;code&gt;ojdbc7.jar&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;将上述两个驱动复制到&lt;code&gt;$SQOOP2_HOME/server/lib&lt;/code&gt;目录下，至此，配置完成。&lt;/p&gt;
&lt;h2 id=&quot;验证sqoop2安装&quot;&gt;&lt;a href=&quot;#验证sqoop2安装&quot; class=&quot;headerlink&quot; title=&quot;验证sqoop2安装&quot;&gt;&lt;/a&gt;验证sqoop2安装&lt;/h2&gt;&lt;p&gt;使用&lt;code&gt;sqoop2-tool verify&lt;/code&gt;验证Sqoo2是否安装成功：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave01 sqoop]$ sqoop2-tool verify&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sqoop home directory: /opt/bigdata/sqoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Setting SQOOP_HTTP_PORT:     12000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Setting SQOOP_ADMIN_PORT:     12001&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using   CATALINA_OPTS:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Adding to CATALINA_OPTS:    -Dsqoop.http.port=12000 -Dsqoop.admin.port=12001&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Apr 09, 2016 4:13:03 PM org.apache.catalina.startup.ClassLoaderFactory validateFile&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;WARNING: Problem with directory [/opt/bigdata/sqoop/lib], exists: [false], isDirectory: [false], canRead: [false]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sqoop tool executor:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Version: 1.99.6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Revision: 07244c3915975f26f03d9e1edf09ab7d06619bb8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Compiled on Wed Apr 29 10:40:43 CST 2015 by root&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Running tool: class org.apache.sqoop.tools.tool.VerifyTool&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16/04/09 16:13:03 INFO core.SqoopServer: Booting up Sqoop server&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16/04/09 16:13:03 INFO core.PropertiesConfigurationProvider: Starting config file poller thread&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing for [root] with value=[WARN, file].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Level token is [WARN].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Category root set to WARN&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing appender named &quot;file&quot;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing layout options for &quot;file&quot;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Setting property [conversionPattern] to [%d&amp;#123;ISO8601&amp;#125; %-5p %c&amp;#123;2&amp;#125; [%l] %m%n].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: End of parsing for &quot;file&quot;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Setting property [file] to [@LOGDIR@/sqoop.log].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Setting property [maxBackupIndex] to [5].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Setting property [maxFileSize] to [25MB].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: setFile called: @LOGDIR@/sqoop.log, true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: setFile ended&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsed &quot;file&quot; options.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing for [org.apache.sqoop] with value=[DEBUG].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Level token is [DEBUG].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Category org.apache.sqoop set to DEBUG&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Handling log4j.additivity.org.apache.sqoop=[null]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing for [org.apache.derby] with value=[INFO].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Level token is [INFO].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Category org.apache.derby set to INFO&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Handling log4j.additivity.org.apache.derby=[null]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Finished configuring.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Class path contains multiple SLF4J bindings.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Found binding in [jar:file:/opt/hadoop-2.7.1/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Found binding in [jar:file:/opt/bigdata/hbase/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Could not find root logger information. Is this OK?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing for [default] with value=[INFO,defaultAppender].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Level token is [INFO].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Category default set to INFO&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing appender named &quot;defaultAppender&quot;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsing layout options for &quot;defaultAppender&quot;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Setting property [conversionPattern] to [%d %-5p %c: %m%n].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: End of parsing for &quot;defaultAppender&quot;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Setting property [file] to [@LOGDIR@/default.audit].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: setFile called: @LOGDIR@/default.audit, true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: setFile ended&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Parsed &quot;defaultAppender&quot; options.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Handling log4j.additivity.default=[null]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Finished configuring.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log4j: Finalizing appender named [EventCounter].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Exception in thread &quot;PurgeThread&quot; org.apache.sqoop.common.SqoopException: JDBCREPO_0009:Failed to finalize transaction&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.sqoop.repository.JdbcRepositoryTransaction.close(JdbcRepositoryTransaction.java:115)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.sqoop.repository.JdbcRepository.doWithConnection(JdbcRepository.java:111)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.sqoop.repository.JdbcRepository.doWithConnection(JdbcRepository.java:63)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.sqoop.repository.JdbcRepository.purgeSubmissions(JdbcRepository.java:591)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.sqoop.driver.JobManager$PurgeThread.run(JobManager.java:660)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Caused by: java.sql.SQLNonTransientConnectionException: No current connection.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.Util.noCurrentConnection(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.EmbedConnection.checkIfClosed(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.EmbedConnection.setupContextStack(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.EmbedConnection.commit(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.commons.dbcp.DelegatingConnection.commit(DelegatingConnection.java:334)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.commons.dbcp.DelegatingConnection.commit(DelegatingConnection.java:334)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.commit(PoolingDataSource.java:211)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.sqoop.repository.JdbcRepositoryTransaction.close(JdbcRepositoryTransaction.java:112)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	... 4 more&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Caused by: java.sql.SQLException: No current connection.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	... 15 more&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Verification was successful.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Tool class org.apache.sqoop.tools.tool.VerifyTool has finished correctly.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave01 sqoop]$&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;忽略&lt;code&gt;JDBCREPO_0009&lt;/code&gt;异常，出现&lt;code&gt;Verification was successful&lt;/code&gt;则说明安装是没有问题的。&lt;/p&gt;
&lt;h2 id=&quot;连接Oracle数据库&quot;&gt;&lt;a href=&quot;#连接Oracle数据库&quot; class=&quot;headerlink&quot; title=&quot;连接Oracle数据库&quot;&gt;&lt;/a&gt;连接Oracle数据库&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;1 启动sqoop&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave01 sqoop]$ sqoop.sh server start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sqoop home directory: /opt/bigdata/sqoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Setting SQOOP_HTTP_PORT:     &lt;span class=&quot;number&quot;&gt;12000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Setting SQOOP_ADMIN_PORT:     &lt;span class=&quot;number&quot;&gt;12001&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using   CATALINA_OPTS:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Adding to CATALINA_OPTS:    -Dsqoop.http.port=&lt;span class=&quot;number&quot;&gt;12000&lt;/span&gt; -Dsqoop.admin.port=&lt;span class=&quot;number&quot;&gt;12001&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using CATALINA_BASE:   /opt/bigdata/sqoop/server&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using CATALINA_HOME:   /opt/bigdata/sqoop/server&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using CATALINA_TMPDIR: /opt/bigdata/sqoop/server/temp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using JRE_HOME:        /opt/oracle_jdk_1&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Using CLASSPATH:       /opt/bigdata/sqoop/server/bin/bootstrap.jar&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;2 使用&lt;code&gt;sqoop2-shell&lt;/code&gt;操作&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave01 sqoop]$ sqoop2-shell&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sqoop home directory: /opt/bigdata/sqoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sqoop Shell: Type &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;\h&#39;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; help.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; show version --all&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;client version:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Sqoop &lt;span class=&quot;number&quot;&gt;1.99&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.6&lt;/span&gt; source revision &lt;span class=&quot;number&quot;&gt;07244&lt;/span&gt;c3915975f26f03d9e1edf09ab7d06619bb8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Compiled by root on Wed Apr &lt;span class=&quot;number&quot;&gt;29&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt; CST &lt;span class=&quot;number&quot;&gt;2015&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Class path contains multiple SLF4J bindings.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Found binding &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; [jar:file:/opt/hadoop&lt;span class=&quot;number&quot;&gt;-2.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;/share/hadoop/common/lib/slf4j-log4j12&lt;span class=&quot;number&quot;&gt;-1.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.10&lt;/span&gt;.jar!/org/slf4j/impl/StaticLoggerBinder.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Found binding &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; [jar:file:/opt/bigdata/sqoop/shell/lib/slf4j-log4j12&lt;span class=&quot;number&quot;&gt;-1.6&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;.jar!/org/slf4j/impl/StaticLoggerBinder.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: See http://www.slf4j.org/codes.html&lt;span class=&quot;comment&quot;&gt;#multiple_bindings for an explanation.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SLF4J: Actual binding &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; of type [org.slf4j.impl.Log4jLoggerFactory]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;04&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;19&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt; WARN util.NativeCodeLoader: Unable to load native-hadoop library &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; your platform... using builtin-java classes where applicable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;server version:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Sqoop &lt;span class=&quot;number&quot;&gt;1.99&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.6&lt;/span&gt; source revision &lt;span class=&quot;number&quot;&gt;07244&lt;/span&gt;c3915975f26f03d9e1edf09ab7d06619bb8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Compiled by root on Wed Apr &lt;span class=&quot;number&quot;&gt;29&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt; CST &lt;span class=&quot;number&quot;&gt;2015&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;API versions:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [v1]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;3 查看可用的connectors&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; show connector&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+------------------------+---------+------------------------------------------------------+----------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| Id |          Name          | Version |                        Class                         | Supported Directions |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+------------------------+---------+------------------------------------------------------+----------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;  | kite-connector         | &lt;span class=&quot;number&quot;&gt;1.99&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.6&lt;/span&gt;  | org.apache.sqoop.connector.kite.KiteConnector        | FROM/TO              |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;  | kafka-connector        | &lt;span class=&quot;number&quot;&gt;1.99&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.6&lt;/span&gt;  | org.apache.sqoop.connector.kafka.KafkaConnector      | TO                   |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;  | hdfs-connector         | &lt;span class=&quot;number&quot;&gt;1.99&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.6&lt;/span&gt;  | org.apache.sqoop.connector.hdfs.HdfsConnector        | FROM/TO              |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;  | generic-jdbc-connector | &lt;span class=&quot;number&quot;&gt;1.99&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.6&lt;/span&gt;  | org.apache.sqoop.connector.jdbc.GenericJdbcConnector | FROM/TO              |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+------------------------+---------+------------------------------------------------------+----------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以看到，我们将要使用的是hdfs和jdbc连接。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;4 创建Oracle连接&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; create link -c &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Creating link &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; connector &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; id &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Please fill following values to create new link object&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Name: Oracle DB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Link configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;JDBC Driver Class: oracle.jdbc.OracleDriver&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;JDBC Connection String: jdbc:oracle:thin:@//&lt;span class=&quot;number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.100&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.108&lt;/span&gt;/orcl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Username: c&lt;span class=&quot;comment&quot;&gt;##hadoop&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Password: ******&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;JDBC Connection Properties:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;There are currently &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; values &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; the map:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;entry&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;New link was successfully created &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; validation status OK &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; persistent id &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;5 创建HDFS连接&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; create link -c &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Creating link &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; connector &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; id &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Please fill following values to create new link object&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Name: HDFS Link&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Link configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;HDFS URI: hdfs://slave01:&lt;span class=&quot;number&quot;&gt;9000&lt;/span&gt;/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Hadoop conf directory: /opt/hadoop&lt;span class=&quot;number&quot;&gt;-2.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;/etc/hadoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;New link was successfully created &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; validation status OK &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; persistent id &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;6 验证连接&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; show link&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+------------+--------------+------------------------+---------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| Id |    Name    | Connector Id |     Connector Name     | Enabled |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+------------+--------------+------------------------+---------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;  | Oracle DB  | &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;            | generic-jdbc-connector | true    |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;  | HDFS Link  | &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;            | hdfs-connector         | true    |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+------------+--------------+------------------------+---------+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;7 创建&lt;code&gt;Sqoop Job&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; create job -f &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt; -t &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Creating job &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; links &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; id &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; to id &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Please fill following values to create new job object&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Name: Oracle HDFS&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;From database configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Schema name: C&lt;span class=&quot;comment&quot;&gt;##hadoop&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Table name: T_DTXX_GPSXX20160317&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Table SQL statement:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Table column names: ID,ZDBH,GPSSJ,JLSJ,CCSJ,JD,WD,WXSL,BZ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Partition column name: ID&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Null value allowed &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the partition column:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Boundary query:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Incremental read&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Check column:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Last value:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;To HDFS configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Override null value:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Null value:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Output format:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; : TEXT_FILE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; : SEQUENCE_FILE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Choose: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Compression format:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; : NONE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; : DEFAULT&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; : DEFLATE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; : GZIP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; : BZIP2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; : LZO&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt; : LZ4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; : SNAPPY&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt; : CUSTOM&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Choose: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Custom compression format:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Output directory: /user/hadoop/oracledata&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Append mode:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Throttling resources&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Extractors:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Loaders:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;New job was successfully created &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; validation status OK  &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; persistent id &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;8 查看Job&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; show job&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+--------------+----------------+--------------+---------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| Id |     Name     | From Connector | To Connector | Enabled |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+--------------+----------------+--------------+---------+&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;  | OH           | &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;              | &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;            | true    |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;  | &lt;span class=&quot;number&quot;&gt;1519&lt;/span&gt;         | &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;              | &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;            | true    |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;  | Oracle HDFS  | &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;              | &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;            | true    |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+----+--------------+----------------+--------------+---------+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其中&lt;code&gt;3&lt;/code&gt;就是我们刚刚创建的Job。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;9 启动Job&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sqoop:&lt;span class=&quot;number&quot;&gt;000&lt;/span&gt;&amp;gt; start job -j &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Submission details&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Job ID: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Server URL: http://localhost:&lt;span class=&quot;number&quot;&gt;12000&lt;/span&gt;/sqoop/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Created by: hadoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Creation date: &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;46&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;57&lt;/span&gt; CST&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Lastly updated by: hadoop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;External ID: job_1459172324738_0017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	http://slave01:&lt;span class=&quot;number&quot;&gt;8088&lt;/span&gt;/proxy/application_1459172324738_0017/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Source Connector schema: Schema&amp;#123;name=C&lt;span class=&quot;comment&quot;&gt;##hadoop.T_DTXX_GPSXX20160317,columns=[&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Text&amp;#123;name=ID,nullable=true,type=TEXT,charSize=null&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Text&amp;#123;name=ZDBH,nullable=true,type=TEXT,charSize=null&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Date&amp;#123;name=GPSSJ,nullable=true,type=DATE_TIME,hasFraction=true,hasTimezone=false&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Date&amp;#123;name=JLSJ,nullable=true,type=DATE_TIME,hasFraction=true,hasTimezone=false&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Date&amp;#123;name=CCSJ,nullable=true,type=DATE_TIME,hasFraction=true,hasTimezone=false&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Text&amp;#123;name=JD,nullable=true,type=TEXT,charSize=null&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Text&amp;#123;name=WD,nullable=true,type=TEXT,charSize=null&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Decimal&amp;#123;name=WXSL,nullable=true,type=DECIMAL,precision=&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,scale=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Text&amp;#123;name=BZ,nullable=true,type=TEXT,charSize=null&amp;#125;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;46&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;57&lt;/span&gt; CST: BOOTING  - Progress &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; available&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;没有抛出异常后，sqoop就已经在后台开始运行了，这时候可以查看Hadoop JobServer,可以看到任务已经在运行了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;10 查看HDFS上数据&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave01 sqoop]$ hdfs dfs -ls oracledata&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Found &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt; items&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup   &lt;span class=&quot;number&quot;&gt;46362076&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;47&lt;/span&gt; oracledata/&lt;span class=&quot;number&quot;&gt;034&lt;/span&gt;fd092-bd7a&lt;span class=&quot;number&quot;&gt;-462&lt;/span&gt;a-a566&lt;span class=&quot;number&quot;&gt;-05&lt;/span&gt;cd123d11ed.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup   &lt;span class=&quot;number&quot;&gt;92831643&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;47&lt;/span&gt; oracledata/&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;b537981&lt;span class=&quot;number&quot;&gt;-1711&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-411&lt;/span&gt;a-bb09-d304c83839ea.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup   &lt;span class=&quot;number&quot;&gt;46547213&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;47&lt;/span&gt; oracledata/&lt;span class=&quot;number&quot;&gt;1526e2&lt;/span&gt;d2-b385&lt;span class=&quot;number&quot;&gt;-4&lt;/span&gt;a45&lt;span class=&quot;number&quot;&gt;-9841&lt;/span&gt;-f8001fc74a7e.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup  &lt;span class=&quot;number&quot;&gt;185898348&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;48&lt;/span&gt; oracledata/&lt;span class=&quot;number&quot;&gt;851645&lt;/span&gt;db-b5a3&lt;span class=&quot;number&quot;&gt;-4265&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-8&lt;/span&gt;ead&lt;span class=&quot;number&quot;&gt;-916&lt;/span&gt;c8680dc11.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup   &lt;span class=&quot;number&quot;&gt;92913401&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;47&lt;/span&gt; oracledata/da722cf7&lt;span class=&quot;number&quot;&gt;-38&lt;/span&gt;d9&lt;span class=&quot;number&quot;&gt;-41&lt;/span&gt;c0-b17f-dcd5a19a69e6.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup  &lt;span class=&quot;number&quot;&gt;139531748&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;48&lt;/span&gt; oracledata/dacf1fc9-ca48&lt;span class=&quot;number&quot;&gt;-4058&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-837e-9380&lt;/span&gt;aefc2dfe.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-r--r--   &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; hadoop supergroup  &lt;span class=&quot;number&quot;&gt;139583915&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-04&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-09&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;48&lt;/span&gt; oracledata/e393d0f5-f05a&lt;span class=&quot;number&quot;&gt;-4790&lt;/span&gt;-bde0&lt;span class=&quot;number&quot;&gt;-9&lt;/span&gt;d8d8d4a7b06.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;至此，数据已经导入了&lt;/p&gt;
&lt;h2 id=&quot;常用命令总结&quot;&gt;&lt;a href=&quot;#常用命令总结&quot; class=&quot;headerlink&quot; title=&quot;常用命令总结&quot;&gt;&lt;/a&gt;常用命令总结&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;set option --name verbose --value true 设置异常显示，便于查错&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop.sh server start    启动&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop.sh server stop     停止&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sqoop.sh client          进入客户端&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set server --host hadoopMaster --port &lt;span class=&quot;number&quot;&gt;12000&lt;/span&gt; --webapp sqoop 设置服务器，注意hadoopMaster为hdfs主机名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;show connector --all    查看连接类型&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;create link --cid &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;    创建连接，cid为连接类型id&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;show link 查看连接&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;update link -l &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; 修改id为&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;的连接&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;delete link -l &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; 删除id为&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;的连接&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;create job -f &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; -t &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; 创建从连接&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;到连接&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;的job&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;show job 查看job&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;update job -jid &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;    修改job&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;delete job -jid &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;    删除job&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;status job -jid &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;    看看job状态&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本节内容：&lt;/strong&gt;本篇博文记录从Oracle12c导入数据到Hadoop中的流程，使用Sqoop2工具,目前Sqoop2只支持将oracle/mysql数据库中的数据与HDFS中数据相互导入导出，目前并不支持导入到HBase/Hive中，因此在实际业务中并不好用，后面介绍使用Sqoop1导入数据到Hbase的流程。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="BigData" scheme="http://keyunluo.github.io/categories/BigData/"/>
    
    
      <category term="hadoop" scheme="http://keyunluo.github.io/tags/hadoop/"/>
    
      <category term="Oracle" scheme="http://keyunluo.github.io/tags/Oracle/"/>
    
      <category term="DataBase" scheme="http://keyunluo.github.io/tags/DataBase/"/>
    
      <category term="sqoop" scheme="http://keyunluo.github.io/tags/sqoop/"/>
    
  </entry>
  
  <entry>
    <title>Oracle 12c 使用入门(1) ——SQL*Plus</title>
    <link href="http://keyunluo.github.io/2016/03/25/2016-03-25-oracle-12c-using.html"/>
    <id>http://keyunluo.github.io/2016/03/25/2016-03-25-oracle-12c-using.html</id>
    <published>2016-03-25T05:25:56.000Z</published>
    <updated>2016-05-23T08:44:45.438Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本节内容：&lt;/strong&gt;本篇博文记录开始使用Oracle12c的一些步骤以及注意事项。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;hr&gt;
&lt;h2 id=&quot;启动和关闭Oracle数据库&quot;&gt;&lt;a href=&quot;#启动和关闭Oracle数据库&quot; class=&quot;headerlink&quot; title=&quot;启动和关闭Oracle数据库&quot;&gt;&lt;/a&gt;启动和关闭Oracle数据库&lt;/h2&gt;&lt;p&gt;刚开始安装完Oracle数据库时，如果数据库未设置成自动启动，则启动服务后还需要启动数据库。启动数据库需要以&lt;code&gt;sys&lt;/code&gt;用户在&lt;code&gt;SQL * PLUS&lt;/code&gt;中执行&lt;code&gt;startup&lt;/code&gt;命令。下面命令以操作系统验证的方式连接数据库，不需要输入账号和密码，连接数据库后，以sys用户执行各个操作：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[hadoop@slave08 ~]$ sqlplus / as sysdba&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SQL*Plus: Release 12.1.0.2.0 Production on Sat Mar 26 15:43:16 2016&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Copyright (c) 1982, 2014, Oracle.  All rights reserved.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Connected to:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;With the Partitioning, OLAP, Advanced Analytics and Real Application Testing options&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SQL&amp;gt; startup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ORA-01081: cannot start already-running ORACLE - shut it down first&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SQL&amp;gt; shutdown immediate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Database closed.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Database dismounted.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ORACLE instance shut down.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SQL&amp;gt; startup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ORACLE instance started.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Total System Global Area 4.0534E+10 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fixed Size		    7653432 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Variable Size		 6308235208 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Database Buffers	 3.4091E+10 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Redo Buffers		  126562304 bytes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Database mounted.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Database opened.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SQL&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;关闭数据库使用shutdown命令，可以附加normal,transactional,immediate以及abort选项，默认选项为normal，会等待所有用户退出连接后再关闭数据库，一般使用&lt;code&gt;immediate&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;常用SQL-PLus操作&quot;&gt;&lt;a href=&quot;#常用SQL-PLus操作&quot; class=&quot;headerlink&quot; title=&quot;常用SQL*PLus操作&quot;&gt;&lt;/a&gt;常用SQL*PLus操作&lt;/h2&gt;&lt;p&gt;Oracle数据库的客户端工具主要有SQL * Plus(字符界面数据库工具，面向应用开发人员以及数据库管理人员，用于执行SQL命令，编写存储过程，以及各种数据库管理任务) ,SQL Developer(Java编写的一个图形界面工具，面向对象主要是数据库应用开发人员) ,Enterprise Manager(OEM，使用浏览器管理数据，面向对象为数据库管理员)。&lt;/p&gt;
&lt;h4 id=&quot;使用SQL-Plus连接到本地数据库&quot;&gt;&lt;a href=&quot;#使用SQL-Plus连接到本地数据库&quot; class=&quot;headerlink&quot; title=&quot;使用SQL*Plus连接到本地数据库&quot;&gt;&lt;/a&gt;使用SQL*Plus连接到本地数据库&lt;/h4&gt;&lt;p&gt;要使用数据库，必须使用合法的用户及密码， 有以下三种方式:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;启动SQL*Plus的同时，输入用户名及密码。&lt;/li&gt;
&lt;li&gt;使用 nolog选项，单独启动SQL*Plus，然后再输入用户名和密码。&lt;/li&gt;
&lt;li&gt;单独启动SQL*Plus，根据提示输入用户名和密码。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;切换连接用户&quot;&gt;&lt;a href=&quot;#切换连接用户&quot; class=&quot;headerlink&quot; title=&quot;切换连接用户&quot;&gt;&lt;/a&gt;切换连接用户&lt;/h4&gt;&lt;p&gt;SQL*Plus使用&lt;code&gt;connect&lt;/code&gt;命令切换用户，&lt;code&gt;connect&lt;/code&gt;关键字可以简写为&lt;code&gt;conn&lt;/code&gt;,使用&lt;code&gt;show user&lt;/code&gt;命令可以查看当前的数据库的用户名称。&lt;/p&gt;
&lt;h4 id=&quot;切换数据库&quot;&gt;&lt;a href=&quot;#切换数据库&quot; class=&quot;headerlink&quot; title=&quot;切换数据库&quot;&gt;&lt;/a&gt;切换数据库&lt;/h4&gt;&lt;p&gt;oracle的一个数据库对应一个服务，切换数据库也就是切换数据库服务。本地服务器如果创建了多个数据库，可以通过设置ORACLE_SID环境变量切换SQL*Plus默认连接的数据库。例如：&lt;code&gt;set oracle_sid=law12&lt;/code&gt;便可以改变默认连接的数据库。&lt;/p&gt;
&lt;h4 id=&quot;执行SQL脚本文件&quot;&gt;&lt;a href=&quot;#执行SQL脚本文件&quot; class=&quot;headerlink&quot; title=&quot;执行SQL脚本文件&quot;&gt;&lt;/a&gt;执行SQL脚本文件&lt;/h4&gt;&lt;p&gt;可以在文本文件中编辑任意SQL命令，然后保存为sql脚本文件，便可以在SQL*Plus中执行该脚本，使用&lt;code&gt;Start&lt;/code&gt;或&lt;code&gt;@&lt;/code&gt; 该脚本。&lt;/p&gt;
&lt;h2 id=&quot;设置SQL-Plus环境&quot;&gt;&lt;a href=&quot;#设置SQL-Plus环境&quot; class=&quot;headerlink&quot; title=&quot;设置SQL*Plus环境&quot;&gt;&lt;/a&gt;设置SQL*Plus环境&lt;/h2&gt;&lt;p&gt;SQL*Plus在启动时，会自动执行&lt;code&gt;%ORACLE_HOME%\sqlplus\admin&lt;/code&gt;目录下的&lt;code&gt;glogin.sql&lt;/code&gt;文件，可以把经常使用的环境命令设置添加到次文件中。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;define_editor=vim  #设置ED命令默认使用的编辑器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set pagesize 100    #每页大小&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set linesize 300    #设置每行容纳的字符数量&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set sqlprompt `&amp;amp;_user&amp;amp;_connect_identifier&amp;gt;`  #把SQL提示符修改为当前用户名称以及连接的字符串&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在SQL*Plus中，可以使用&lt;code&gt;column column_name format an&lt;/code&gt;来设置字符串列的显示宽度，以避免显示结果因为换行而显得凌乱，其中的column以及format可以分别简写为col及for,a后面的数字用于指定字符的数量。&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;col table_name for a8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;col file_name  for a60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;col segment_name for a8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;col tablespace_name for a8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本节内容：&lt;/strong&gt;本篇博文记录开始使用Oracle12c的一些步骤以及注意事项。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="DataBase" scheme="http://keyunluo.github.io/categories/DataBase/"/>
    
    
      <category term="Oracle" scheme="http://keyunluo.github.io/tags/Oracle/"/>
    
      <category term="DataBase" scheme="http://keyunluo.github.io/tags/DataBase/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu14.04配置L2TP-VPN</title>
    <link href="http://keyunluo.github.io/2016/03/20/2016-03-20-ubuntu14-l2tp-vpn.html"/>
    <id>http://keyunluo.github.io/2016/03/20/2016-03-20-ubuntu14-l2tp-vpn.html</id>
    <published>2016-03-20T04:54:12.000Z</published>
    <updated>2016-05-23T08:44:45.438Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本节内容：&lt;/strong&gt;本篇博文记录在Ubuntu14.04上安装L2TP插件。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;添加PPA&quot;&gt;&lt;a href=&quot;#添加PPA&quot; class=&quot;headerlink&quot; title=&quot;添加PPA&quot;&gt;&lt;/a&gt;添加PPA&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sudo apt-add-repository ppa:seriy-pr/network-manager-l2tp&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;刷新软件包缓存&quot;&gt;&lt;a href=&quot;#刷新软件包缓存&quot; class=&quot;headerlink&quot; title=&quot;刷新软件包缓存&quot;&gt;&lt;/a&gt;刷新软件包缓存&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sudo apt-get update&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装network-manager-l2tp&quot;&gt;&lt;a href=&quot;#安装network-manager-l2tp&quot; class=&quot;headerlink&quot; title=&quot;安装network-manager-l2tp&quot;&gt;&lt;/a&gt;安装network-manager-l2tp&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sudo apt-get install network-manager-l2tp-gnome&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;由于墙问题无法添加PPA&quot;&gt;&lt;a href=&quot;#由于墙问题无法添加PPA&quot; class=&quot;headerlink&quot; title=&quot;由于墙问题无法添加PPA&quot;&gt;&lt;/a&gt;由于墙问题无法添加PPA&lt;/h2&gt;&lt;p&gt; 若无法进行上述操作，则可以在&lt;a href=&quot;https://launchpad.net/~seriy-pr/+archive/ubuntu/network-manager-l2tp/+packages&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;网站&lt;/a&gt;下载软件包&lt;code&gt;network-manager-l2tp&lt;/code&gt;，&lt;code&gt;network-manager-l2tp-gnome&lt;/code&gt;，根据系统是32位还是64位下载相应版本的&lt;code&gt;deb&lt;/code&gt;包后先后安装(注意：需要联网下载一些依赖包，需要联网,注意顺序)。&lt;/p&gt;
&lt;h2 id=&quot;安装完之后需要运行下面命令&quot;&gt;&lt;a href=&quot;#安装完之后需要运行下面命令&quot; class=&quot;headerlink&quot; title=&quot;安装完之后需要运行下面命令&quot;&gt;&lt;/a&gt;安装完之后需要运行下面命令&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo service xl2tpd stop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo update-rc.d xl2tpd disable&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;重启机器，新建VPN&quot;&gt;&lt;a href=&quot;#重启机器，新建VPN&quot; class=&quot;headerlink&quot; title=&quot;重启机器，新建VPN&quot;&gt;&lt;/a&gt;重启机器，新建VPN&lt;/h2&gt;&lt;p&gt;在&lt;code&gt;网络&lt;/code&gt;-&lt;code&gt;编辑连接&lt;/code&gt;-&lt;code&gt;添加&lt;/code&gt;-&lt;code&gt;选择连接类型&lt;/code&gt;-&lt;code&gt;VPN&lt;/code&gt;-&lt;code&gt;L2TP&lt;/code&gt;,然后配置网关，用户名密码，若需要共享密钥，则点击&lt;code&gt;ipses settings&lt;/code&gt;,在&lt;code&gt;pre-shared key&lt;/code&gt;内填入公司分配的共享密钥，否则就可以直接连接VPN了。&lt;/p&gt;
&lt;p&gt;图：选择VPN类型&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/resource/blog/2016-03/L2TP-VPN.png&quot; alt=&quot;L2TP-VPN&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本节内容：&lt;/strong&gt;本篇博文记录在Ubuntu14.04上安装L2TP插件。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Ubuntu" scheme="http://keyunluo.github.io/categories/Ubuntu/"/>
    
    
      <category term="VPN" scheme="http://keyunluo.github.io/tags/VPN/"/>
    
  </entry>
  
  <entry>
    <title>大数据二次排序</title>
    <link href="http://keyunluo.github.io/2016/03/07/2016-03-07-hadoop-secondary-sort.html"/>
    <id>http://keyunluo.github.io/2016/03/07/2016-03-07-hadoop-secondary-sort.html</id>
    <published>2016-03-07T12:33:53.000Z</published>
    <updated>2016-05-23T08:44:45.422Z</updated>
    
    <content type="html">&lt;h2 id=&quot;问题概述&quot;&gt;&lt;a href=&quot;#问题概述&quot; class=&quot;headerlink&quot; title=&quot;问题概述&quot;&gt;&lt;/a&gt;问题概述&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在hadoop中每个reduce的输入的key都是有序的，而value则是无序的。而且同一个job运行多次，由于map完成顺序不同，reduce收到的value顺序是不固定的,为了使reduce收到有序的value,便产生了二次排序的概念。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;二次排序实例&lt;/strong&gt;
考虑到在科学实验中的温度数据，它们可能的格式如下，每一列分别为 &lt;code&gt;year&lt;/code&gt;,&lt;code&gt;month&lt;/code&gt;,&lt;code&gt;day&lt;/code&gt;,&lt;code&gt;temperature&lt;/code&gt;:
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;02&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;03&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;04&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;05&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;06&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2001&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;01&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2001&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;02&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;19&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2001&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;03&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2001&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;04&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我们想按照&lt;code&gt;year-month&lt;/code&gt;对温度数据进行升序排序并输出，并且我们希望对&lt;code&gt;reducer&lt;/code&gt;中的迭代值是已经排序的。因此，期望的输出为：
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-01&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10.&lt;/span&gt;..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2001&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-11&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;19.&lt;/span&gt;..&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;解决方案&quot;&gt;&lt;a href=&quot;#解决方案&quot; class=&quot;headerlink&quot; title=&quot;解决方案&quot;&gt;&lt;/a&gt;解决方案&lt;/h2&gt;&lt;p&gt;为了使用MapReduce编程框架,当数据量很大时在reduce阶段在内存中对同一个key里面的值进行排序是不太可能的，因此&lt;code&gt;通过向原生key增加一部分或全部值(value)作为复合key来实现排序操作&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;方法概要&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;1&lt;/em&gt;:使用&lt;code&gt;Value-to-Key&lt;/code&gt;设计模式：设计复合Key-Value,&lt;code&gt;(K，V1,V2)=&amp;gt;(K1,V2)&lt;/code&gt;，其中K是原生Key，V1是要排序的值，V2是其他值，K1是复合Key，显然K1=(K,V1)。&lt;/li&gt;
&lt;li&gt;&lt;em&gt;2&lt;/em&gt;:使用MapReduce执行框架进行排序(注意：不是直接在内存中排序，而是利用集群节点进行排序)。&lt;/li&gt;
&lt;li&gt;&lt;em&gt;3&lt;/em&gt;:在多个Key-Value键值对中保存状态来进行处理，可以通过原生键对mapper输出的中间结果进行partition操作。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;问题概述&quot;&gt;&lt;a href=&quot;#问题概述&quot; class=&quot;headerlink&quot; title=&quot;问题概述&quot;&gt;&lt;/a&gt;问题概述&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在hadoop中每个reduce的输入的key都是有序的，而value则是无序的。而且同一个job运行多次，由于map完成顺序不同，reduce收到的value顺序是不固定的,为了使reduce收到有序的value,便产生了二次排序的概念。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="BigData" scheme="http://keyunluo.github.io/categories/BigData/"/>
    
    
      <category term="hadoop" scheme="http://keyunluo.github.io/tags/hadoop/"/>
    
      <category term="二次排序" scheme="http://keyunluo.github.io/tags/%E4%BA%8C%E6%AC%A1%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>Git 常用命令整理</title>
    <link href="http://keyunluo.github.io/2016/03/07/2016-03-07-git-common-command.html"/>
    <id>http://keyunluo.github.io/2016/03/07/2016-03-07-git-common-command.html</id>
    <published>2016-03-07T08:05:36.000Z</published>
    <updated>2016-05-23T08:44:45.422Z</updated>
    
    <content type="html">&lt;h2 id=&quot;初始化配置&quot;&gt;&lt;a href=&quot;#初始化配置&quot; class=&quot;headerlink&quot; title=&quot;初始化配置&quot;&gt;&lt;/a&gt;初始化配置&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#配置使用git仓库的人员姓名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; user.name &lt;span class=&quot;string&quot;&gt;&quot;Your Name Comes Here&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#配置使用git仓库的人员email&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; user.email you@yourdomain.example.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#配置到缓存 默认15分钟&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; credential.helper cache&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#修改缓存时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; credential.helper &lt;span class=&quot;string&quot;&gt;&#39;cache --timeout=3600&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; color.ui true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.co checkout&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.ci commit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.st status&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.br branch&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; core.editor &lt;span class=&quot;string&quot;&gt;&quot;mate -w&quot;&lt;/span&gt;    &lt;span class=&quot;comment&quot;&gt;# 设置Editor使用textmate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;#列举所有配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#用户的git配置文件~/.gitconfig&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;hr&gt;
&lt;h2 id=&quot;查看、添加、提交、删除、找回，重置修改文件&quot;&gt;&lt;a href=&quot;#查看、添加、提交、删除、找回，重置修改文件&quot; class=&quot;headerlink&quot; title=&quot;查看、添加、提交、删除、找回，重置修改文件&quot;&gt;&lt;/a&gt;查看、添加、提交、删除、找回，重置修改文件&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git help &amp;lt;command&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 显示command的help&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git show            &lt;span class=&quot;comment&quot;&gt;# 显示某次提交的内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git show $id&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co  -- &amp;lt;file&amp;gt;   &lt;span class=&quot;comment&quot;&gt;# 抛弃工作区修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co  .           &lt;span class=&quot;comment&quot;&gt;# 抛弃工作区修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add &amp;lt;file&amp;gt;      &lt;span class=&quot;comment&quot;&gt;# 将工作文件修改提交到本地暂存区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add .           &lt;span class=&quot;comment&quot;&gt;# 将所有修改过的工作文件提交暂存区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git rm &amp;lt;file&amp;gt;       &lt;span class=&quot;comment&quot;&gt;# 从版本库中删除文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git rm &amp;lt;file&amp;gt; --cached  &lt;span class=&quot;comment&quot;&gt;# 从版本库中删除文件，但不删除文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git reset &amp;lt;file&amp;gt;    &lt;span class=&quot;comment&quot;&gt;# 从暂存区恢复到工作文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git reset -- .      &lt;span class=&quot;comment&quot;&gt;# 从暂存区恢复到工作文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git reset --hard    &lt;span class=&quot;comment&quot;&gt;# 恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git ci &amp;lt;file&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git ci .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git ci -a           &lt;span class=&quot;comment&quot;&gt;# 将git add, git rm和git ci等操作都合并在一起做&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git ci -am &lt;span class=&quot;string&quot;&gt;&quot;some comments&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git ci --amend      &lt;span class=&quot;comment&quot;&gt;# 修改最后一次提交记录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git revert &amp;lt;$id&amp;gt;    &lt;span class=&quot;comment&quot;&gt;# 恢复某次提交的状态，恢复动作本身也创建了一次提交对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git revert HEAD     &lt;span class=&quot;comment&quot;&gt;# 恢复最后一次提交的状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#恢复&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;查看文件diff&quot;&gt;&lt;a href=&quot;#查看文件diff&quot; class=&quot;headerlink&quot; title=&quot;查看文件diff&quot;&gt;&lt;/a&gt;查看文件diff&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git diff &amp;lt;file&amp;gt;     &lt;span class=&quot;comment&quot;&gt;# 比较当前文件和暂存区文件差异&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git diff&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git diff &amp;lt;$id1&amp;gt; &amp;lt;$id2&amp;gt;   &lt;span class=&quot;comment&quot;&gt;# 比较两次提交之间的差异&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git diff &amp;lt;branch1&amp;gt;..&amp;lt;branch2&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 在两个分支之间比较&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git diff --staged   &lt;span class=&quot;comment&quot;&gt;# 比较暂存区和版本库差异&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git diff --cached   &lt;span class=&quot;comment&quot;&gt;# 比较暂存区和版本库差异&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git diff --stat     &lt;span class=&quot;comment&quot;&gt;# 仅仅比较统计信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#退出diff查看状态直接输入Q即可.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;查看提交记录&quot;&gt;&lt;a href=&quot;#查看提交记录&quot; class=&quot;headerlink&quot; title=&quot;查看提交记录&quot;&gt;&lt;/a&gt;查看提交记录&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git log &amp;lt;file&amp;gt;      &lt;span class=&quot;comment&quot;&gt;# 查看该文件每次提交记录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git log -p &amp;lt;file&amp;gt;   &lt;span class=&quot;comment&quot;&gt;# 查看每次详细修改内容的diff&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git log -p &lt;span class=&quot;number&quot;&gt;-2&lt;/span&gt;       &lt;span class=&quot;comment&quot;&gt;# 查看最近两次详细修改内容的diff&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git log --stat      &lt;span class=&quot;comment&quot;&gt;#查看提交统计信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt; tig
Mac上可以使用tig代替diff和log，brew install tig&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;取得Git仓库&quot;&gt;&lt;a href=&quot;#取得Git仓库&quot; class=&quot;headerlink&quot; title=&quot;取得Git仓库&quot;&gt;&lt;/a&gt;取得Git仓库&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#初始化一个版本仓库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#Clone远程版本库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git clone git@xbc.me:wordpress.gi&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#添加远程版本库origin，语法为 git remote add [shortname] [url]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote add origin git@xbc.me:wordpress.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#查看远程仓库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote -v&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#显示远程信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;提交你的修改&quot;&gt;&lt;a href=&quot;#提交你的修改&quot; class=&quot;headerlink&quot; title=&quot;提交你的修改&quot;&gt;&lt;/a&gt;提交你的修改&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#添加当前修改的文件到暂存区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#如果你自动追踪文件，包括你已经手动删除的，状态为Deleted的文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add -u&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#提交你的修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit –m &lt;span class=&quot;string&quot;&gt;&quot;你的注释&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#推送你的更新到远程服务器,语法为 git push [远程名] [本地分支]:[远程分支]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push origin master&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#查看文件状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git status&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#跟踪新文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add readme.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#从当前跟踪列表移除文件，并完全删除&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git rm readme.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#仅在暂存区删除，保留文件在当前目录，不再跟踪&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git rm –cached readme.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#重命名文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git mv reademe.txt readme&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#查看提交的历史记录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#修改最后一次提交注释的，利用–amend参数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit --amend&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#忘记提交某些修改，下面的三条命令只会得到一个提交。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit –m &amp;amp;quot;add readme.txt&amp;amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add readme_forgotten&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit –amend&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#假设你已经使用git add .，将修改过的文件a、b加到暂存区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#现在你只想提交a文件，不想提交b文件，应该这样&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git reset HEAD b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#取消对文件的修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git checkout –- readme.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;查看、切换、创建和删除分支&quot;&gt;&lt;a href=&quot;#查看、切换、创建和删除分支&quot; class=&quot;headerlink&quot; title=&quot;查看、切换、创建和删除分支&quot;&gt;&lt;/a&gt;查看、切换、创建和删除分支&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git br -r           &lt;span class=&quot;comment&quot;&gt;# 查看远程分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git br &amp;lt;new_branch&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 创建新的分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git br -v           &lt;span class=&quot;comment&quot;&gt;# 查看各个分支最后提交信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git br --merged     &lt;span class=&quot;comment&quot;&gt;# 查看已经被合并到当前分支的分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git br --no-merged  &lt;span class=&quot;comment&quot;&gt;# 查看尚未被合并到当前分支的分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co &amp;lt;branch&amp;gt;     &lt;span class=&quot;comment&quot;&gt;# 切换到某个分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co -b &amp;lt;new_branch&amp;gt; &lt;span class=&quot;comment&quot;&gt;# 创建新的分支，并且切换过去&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co -b &amp;lt;new_branch&amp;gt; &amp;lt;branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 基于branch创建新的new_branch&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co $id          &lt;span class=&quot;comment&quot;&gt;# 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co $id -b &amp;lt;new_branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 把某次历史提交记录checkout出来，创建成一个分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git br -d &amp;lt;branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 删除某个分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git br -D &amp;lt;branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 强制删除某个分支（未被合并的分支被删除的时候需要强制）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;分支合并和rebase&quot;&gt;&lt;a href=&quot;#分支合并和rebase&quot; class=&quot;headerlink&quot; title=&quot;分支合并和rebase&quot;&gt;&lt;/a&gt;分支合并和rebase&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git merge &amp;lt;branch&amp;gt;               &lt;span class=&quot;comment&quot;&gt;# 将branch分支合并到当前分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git merge origin/master --no-ff  &lt;span class=&quot;comment&quot;&gt;# 不要Fast-Foward合并，这样可以生成merge提交&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git rebase master &amp;lt;branch&amp;gt;       &lt;span class=&quot;comment&quot;&gt;# 将master rebase到branch，相当于：&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co &amp;lt;branch&amp;gt; &amp;amp;&amp;amp; git rebase master &amp;amp;&amp;amp; git co master &amp;amp;&amp;amp; git merge &amp;lt;branch&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Git补丁管理-方便在多台机器上开发同步时用&quot;&gt;&lt;a href=&quot;#Git补丁管理-方便在多台机器上开发同步时用&quot; class=&quot;headerlink&quot; title=&quot;Git补丁管理(方便在多台机器上开发同步时用)&quot;&gt;&lt;/a&gt;Git补丁管理(方便在多台机器上开发同步时用)&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git diff &amp;gt; ../sync.patch         &lt;span class=&quot;comment&quot;&gt;# 生成补丁&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git apply ../sync.patch          &lt;span class=&quot;comment&quot;&gt;# 打补丁&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git apply --check ../sync.patch  &lt;span class=&quot;comment&quot;&gt;#测试补丁能否成功&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Git暂存管理&quot;&gt;&lt;a href=&quot;#Git暂存管理&quot; class=&quot;headerlink&quot; title=&quot;Git暂存管理&quot;&gt;&lt;/a&gt;Git暂存管理&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git stash                        &lt;span class=&quot;comment&quot;&gt;# 暂存&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git stash list                   &lt;span class=&quot;comment&quot;&gt;# 列所有stash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git stash apply                  &lt;span class=&quot;comment&quot;&gt;# 恢复暂存的内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git stash drop                   &lt;span class=&quot;comment&quot;&gt;# 删除暂存区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Git远程分支管理&quot;&gt;&lt;a href=&quot;#Git远程分支管理&quot; class=&quot;headerlink&quot; title=&quot;Git远程分支管理&quot;&gt;&lt;/a&gt;Git远程分支管理&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git pull                         &lt;span class=&quot;comment&quot;&gt;# 抓取远程仓库所有分支更新并合并到本地&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git pull --no-ff                 &lt;span class=&quot;comment&quot;&gt;# 抓取远程仓库所有分支更新并合并到本地，不要快进合并&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git fetch origin                 &lt;span class=&quot;comment&quot;&gt;# 抓取远程仓库更新&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git merge origin/master          &lt;span class=&quot;comment&quot;&gt;# 将远程主分支合并到本地当前分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co --track origin/branch     &lt;span class=&quot;comment&quot;&gt;# 跟踪某个远程分支创建相应的本地分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git co -b &amp;lt;local_branch&amp;gt; origin/&amp;lt;remote_branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 基于远程分支创建本地分支，功能同上&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push                         &lt;span class=&quot;comment&quot;&gt;# push所有分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push origin master           &lt;span class=&quot;comment&quot;&gt;# 将本地主分支推到远程主分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push -u origin master        &lt;span class=&quot;comment&quot;&gt;# 将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push origin &amp;lt;local_branch&amp;gt;   &lt;span class=&quot;comment&quot;&gt;# 创建远程分支， origin是远程仓库名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push origin &amp;lt;local_branch&amp;gt;:&amp;lt;remote_branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;# 创建远程分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push origin :&amp;lt;remote_branch&amp;gt;  &lt;span class=&quot;comment&quot;&gt;#先删除本地分支(git br -d &amp;lt;branch&amp;gt;)，然后再push删除远程分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;基本的分支管理&quot;&gt;&lt;a href=&quot;#基本的分支管理&quot; class=&quot;headerlink&quot; title=&quot;基本的分支管理&quot;&gt;&lt;/a&gt;基本的分支管理&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#创建一个分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git branch iss53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#切换工作目录到iss53&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git chekcout iss53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#将上面的命令合在一起，创建iss53分支并切换到iss53&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git chekcout –b iss53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#合并iss53分支，当前工作目录为master&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git merge iss53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#合并完成后，没有出现冲突，删除iss53分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git branch –d iss53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#拉去远程仓库的数据，语法为 git fetch [remote-name]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git fetch&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#fetch 会拉去最新的远程仓库数据，但不会自动到当前目录下，要自动合并&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git pull&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#查看远程仓库的信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote show origin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#建立本地的dev分支追踪远程仓库的develop分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git checkout –b dev origin/develop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Git远程仓库管理&quot;&gt;&lt;a href=&quot;#Git远程仓库管理&quot; class=&quot;headerlink&quot; title=&quot;Git远程仓库管理&quot;&gt;&lt;/a&gt;Git远程仓库管理&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git remote -v                    &lt;span class=&quot;comment&quot;&gt;# 查看远程服务器地址和仓库名称&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote show origin           &lt;span class=&quot;comment&quot;&gt;# 查看远程服务器仓库状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote add origin git@ github:robbin/robbin_site.git         &lt;span class=&quot;comment&quot;&gt;# 添加远程仓库地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote set-url origin git@ github.com:robbin/robbin_site.git &lt;span class=&quot;comment&quot;&gt;# 设置远程仓库地址(用于修改远程仓库地址)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote rm &amp;lt;repository&amp;gt;       &lt;span class=&quot;comment&quot;&gt;# 删除远程仓库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;创建远程仓库&quot;&gt;&lt;a href=&quot;#创建远程仓库&quot; class=&quot;headerlink&quot; title=&quot;创建远程仓库&quot;&gt;&lt;/a&gt;创建远程仓库&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git clone --bare robbin_site robbin_site.git  &lt;span class=&quot;comment&quot;&gt;# 用带版本的项目创建纯版本仓库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;scp -r my_project.git git@ git.csdn.net:~      &lt;span class=&quot;comment&quot;&gt;# 将纯仓库上传到服务器上&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkdir robbin_site.git &amp;amp;&amp;amp; cd robbin_site.git &amp;amp;&amp;amp; git --bare init &lt;span class=&quot;comment&quot;&gt;# 在服务器创建纯仓库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote add origin git@ github.com:robbin/robbin_site.git    &lt;span class=&quot;comment&quot;&gt;# 设置远程仓库地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push -u origin master                                      &lt;span class=&quot;comment&quot;&gt;# 客户端首次提交&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push -u origin develop  &lt;span class=&quot;comment&quot;&gt;# 首次将本地develop分支提交到远程develop分支，并且track&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git remote set-head origin master   &lt;span class=&quot;comment&quot;&gt;# 设置远程仓库的HEAD指向master分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;也可以命令设置跟踪远程库和本地库&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git branch --set-upstream master origin/master&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git branch --set-upstream develop origin/develop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Github协同流程：&quot;&gt;&lt;a href=&quot;#Github协同流程：&quot; class=&quot;headerlink&quot; title=&quot;Github协同流程：&quot;&gt;&lt;/a&gt;Github协同流程：&lt;/h2&gt;&lt;p&gt;fork给自己 → clone到本地 → coding → push回自己 → github上提出Pull Request即可
之后，本地添加fork源为远端源 → 工作前先pull下fork源保持代码较新 → coding → …&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;GitHub更新fork的版本实践&quot;&gt;&lt;a href=&quot;#GitHub更新fork的版本实践&quot; class=&quot;headerlink&quot; title=&quot;GitHub更新fork的版本实践:&quot;&gt;&lt;/a&gt;GitHub更新fork的版本实践:&lt;/h2&gt;&lt;p&gt;前提
你已经在github上fork了别人的分支，并且弄好了跟github的ssh连接。(如果没有ssh连接可使用HTTP,操作的时候会多一个输入用户名密码操作)
相关配置详情参考：&lt;a href=&quot;https://help.github.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://help.github.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;详细操作:&lt;/p&gt;
&lt;p&gt;1.检出自己在github上fork别人的分支&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@github.com:streamers/hadoop.git
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2.然后增加远程分支（也就是你fork那个人的分支）名为atcic（这个名字任意）到你本地。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git remote add atcic git@github.com:apache/hadoop.git
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果你运行命令：git remote -v你会发现多出来了一个Bob的远程分支。如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;atcic   git@github.com:apache/hadoop.git   (fetch)
atcic   git@github.com:apache/hadoop.git   (push)
origin  git@github.com:apache/hadoop.git   (fetch)
origin  git@github.com:apache/hadoop.git   (push)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;3.然后，把对方的代码拉到你本地。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git fetch atcic
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;4.最后，合并对方的代码。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git merge atcic/master
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;5.最最后，把最新的代码推送到你的github上。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git push origin master
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这样就完成了自己的代码更新。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Git版本控制大全:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://git-scm.com/book/zh/v1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://git-scm.com/book/zh/v1&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;初始化配置&quot;&gt;&lt;a href=&quot;#初始化配置&quot; class=&quot;headerlink&quot; title=&quot;初始化配置&quot;&gt;&lt;/a&gt;初始化配置&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#配置使用git仓库的人员姓名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; user.name &lt;span class=&quot;string&quot;&gt;&quot;Your Name Comes Here&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#配置使用git仓库的人员email&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; user.email you@yourdomain.example.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#配置到缓存 默认15分钟&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; credential.helper cache&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#修改缓存时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; credential.helper &lt;span class=&quot;string&quot;&gt;&#39;cache --timeout=3600&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; color.ui true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.co checkout&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.ci commit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.st status&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; alias.br branch&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --&lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; core.editor &lt;span class=&quot;string&quot;&gt;&quot;mate -w&quot;&lt;/span&gt;    &lt;span class=&quot;comment&quot;&gt;# 设置Editor使用textmate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config &lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;#列举所有配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#用户的git配置文件~/.gitconfig&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="git" scheme="http://keyunluo.github.io/categories/git/"/>
    
    
      <category term="git" scheme="http://keyunluo.github.io/tags/git/"/>
    
  </entry>
  
</feed>
