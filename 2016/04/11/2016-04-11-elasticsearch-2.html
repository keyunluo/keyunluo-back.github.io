<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Coder On The Road"><title>Elasticsearch入门学习(2)——服务URL | 流光</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Elasticsearch入门学习(2)——服务URL</h1><a id="logo" href="/.">流光</a><p class="description">他跑啊跑啊，只为追上那个曾经被寄予厚望的自己</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/resource/share"><i class="fa fa-download"> 资源</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Elasticsearch入门学习(2)——服务URL</h1><div class="post-meta">Apr 11, 2016<span> | </span><span class="category"><a href="/categories/BigData/">BigData</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/04/11/2016-04-11-elasticsearch-2.html" href="/2016/04/11/2016-04-11-elasticsearch-2.html#comments" class="ds-thread-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#与Elasticsearch交互"><span class="toc-number">1.</span> <span class="toc-text">与Elasticsearch交互</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Elasticsearch常见服务URL"><span class="toc-number">2.</span> <span class="toc-text">Elasticsearch常见服务URL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#索引相关"><span class="toc-number">3.</span> <span class="toc-text">索引相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集群相关"><span class="toc-number">4.</span> <span class="toc-text">集群相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#节点相关"><span class="toc-number">5.</span> <span class="toc-text">节点相关</span></a></li></ol></div></div><div class="post-content"><blockquote>
<p><strong>ElasticSearch</strong> 将各种功能、配置、服务都以API的形式暴露，这也是elasticsearch区别于其他搜索引擎框架的一个特征，本文将ES中常用的URL整理以供查询。</p>
</blockquote>
<a id="more"></a>
<h2 id="与Elasticsearch交互"><a href="#与Elasticsearch交互" class="headerlink" title="与Elasticsearch交互"></a>与Elasticsearch交互</h2><p>如何与Elasticsearch交互取决于你是否使用Java，可以分为<code>Java API交互</code>和<code>基于HTTP协议，以JSON为数据交互格式的RESTful API</code>两种，本文主要讲解使用RESTful API，通过9200端口的与Elasticsearch进行通信。使用java则端口为9300.</p>
<p>向Elasticsearch发出的请求的组成部分与其它普通的HTTP请求是一样的：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -X&lt;VERB&gt; '&lt;PROTOCOL&gt;://&lt;HOST&gt;:&lt;PORT&gt;/&lt;PATH&gt;?&lt;QUERY_STRING&gt;' -d '&lt;BODY&gt;'</span><br></pre></td></tr></table></figure>
<ul>
<li>VERB HTTP方法：GET, POST, PUT, HEAD, DELETE</li>
<li>PROTOCOL http或者https协议（只有在Elasticsearch前面有https代理的时候可用）</li>
<li>HOST Elasticsearch集群中的任何一个节点的主机名，如果是在本地的节点，那么就叫localhost</li>
<li>PORT Elasticsearch HTTP服务所在的端口，默认为9200</li>
<li>PATH API路径（例如_count将返回集群中文档的数量），PATH可以包含多个组件，例如_cluster/stats或者_nodes/stats/jvm</li>
<li>QUERY_STRING 一些可选的查询请求参数，例如?pretty参数将使请求返回更加美观易读的JSON数据</li>
<li>BODY 一个JSON格式的请求主体（如果请求需要的话）</li>
</ul>
<p>例如，为了计算集群中的文档数量，我们可以这样做：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@slave01 ~]$ curl -XGET 'http://localhost:9200/_count?pretty' -d '</span><br><span class="line">&#123;</span><br><span class="line">    "query": &#123;</span><br><span class="line">        "match_all": &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">'</span><br><span class="line">&#123;</span><br><span class="line">  "count" : 3498781,</span><br><span class="line">  "_shards" : &#123;</span><br><span class="line">    "total" : 37,</span><br><span class="line">    "successful" : 37,</span><br><span class="line">    "failed" : 0</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Elasticsearch返回一个类似200 OK的HTTP状态码和JSON格式的响应主体（除了HEAD请求）。</p>
<h2 id="Elasticsearch常见服务URL"><a href="#Elasticsearch常见服务URL" class="headerlink" title="Elasticsearch常见服务URL"></a>Elasticsearch常见服务URL</h2><ul>
<li><p>HTTP方法: POST新增，PUT更新，GET获取，DELETE删除，HEAD判断是否存在</p>
</li>
<li><p>集群健康查看:<code>curl  &#39;http://server:9200/_cat/health?v&#39;</code></p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent</span><br><span class="line"><span class="number">1460378717</span> <span class="number">20</span>:<span class="number">45</span>:<span class="number">17</span>  Elasticsearch green           <span class="number">3</span>         <span class="number">3</span>     <span class="number">74</span>  <span class="number">37</span>    <span class="number">0</span>    <span class="number">0</span>        <span class="number">0</span>             <span class="number">0</span>                  -                <span class="number">100.0</span>%</span><br></pre></td></tr></table></figure>
<ul>
<li>节点健康查看:<code>curl  &#39;http://server:9200/_cat/nodes?v&#39;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">host            ip              heap.percent ram.percent load node.role master name</span><br><span class="line"><span class="number">192.168</span><span class="number">.100</span><span class="number">.107</span> <span class="number">192.168</span><span class="number">.100</span><span class="number">.107</span>           <span class="number">30</span>          <span class="number">22</span> <span class="number">0.00</span> d         -      ES-Hadoop-Spark-Node1</span><br><span class="line"><span class="number">192.168</span><span class="number">.100</span><span class="number">.110</span> <span class="number">192.168</span><span class="number">.100</span><span class="number">.110</span>           <span class="number">11</span>          <span class="number">23</span> <span class="number">0.01</span> d         -      ES-Hadoop-Spark-Node2</span><br><span class="line"><span class="number">192.168</span><span class="number">.100</span><span class="number">.101</span> <span class="number">192.168</span><span class="number">.100</span><span class="number">.101</span>           <span class="number">19</span>          <span class="number">27</span> <span class="number">1.80</span> d         *      ES-Hadoop-Spark-Master</span><br></pre></td></tr></table></figure>
<ul>
<li>列出集群索引:<code>curl  &#39;http://server:9200/_cat/indices?v&#39;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">health status index                 pri rep docs.count docs.deleted store.size pri.store.size</span><br><span class="line">green  open   demo                    <span class="number">5</span>   <span class="number">1</span>          <span class="number">1</span>            <span class="number">0</span>      <span class="number">7.9</span>kb          <span class="number">3.9</span>kb</span><br><span class="line">green  open   my_index                <span class="number">5</span>   <span class="number">1</span>         <span class="number">11</span>            <span class="number">0</span>     <span class="number">53.4</span>kb         <span class="number">26.7</span>kb</span><br><span class="line">green  open   .marvel-es<span class="number">-2016.03</span><span class="number">.29</span>   <span class="number">1</span>   <span class="number">1</span>     <span class="number">162773</span>           <span class="number">54</span>     <span class="number">94.6</span>mb         <span class="number">47.3</span>mb</span><br></pre></td></tr></table></figure>
<ul>
<li>创建customer索引,pretty表示打印json响应:<code>curl -XPUT &#39;http://server:9200/customer?pretty&#39;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"acknowledged"</span> : <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>索引数据：<code>curl -XPUT &#39;http://server:9200/customer/external/1?pretty&#39; &#39;-d { &quot;name&quot;:&quot;JOhn Doe&quot;}&#39;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"_index"</span> : <span class="string">"customer"</span>,</span><br><span class="line">  <span class="string">"_type"</span> : <span class="string">"external"</span>,</span><br><span class="line">  <span class="string">"_id"</span> : <span class="string">"1"</span>,</span><br><span class="line">  <span class="string">"_version"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="string">"_shards"</span> : &#123;</span><br><span class="line">    <span class="string">"total"</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="string">"successful"</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="string">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"created"</span> : <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>查询数据：<code>curl -XGET &#39;http://server:9200/customer/external/1?pretty&#39;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"_index"</span> : <span class="string">"customer"</span>,</span><br><span class="line">  <span class="string">"_type"</span> : <span class="string">"external"</span>,</span><br><span class="line">  <span class="string">"_id"</span> : <span class="string">"1"</span>,</span><br><span class="line">  <span class="string">"_version"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="string">"found"</span> : <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"_source"</span> : &#123;</span><br><span class="line">    <span class="string">"name"</span> : <span class="string">"JOhn Doe"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>删除索引:<code>curl -XDELETE &#39;http://server:9200/customer?pretty</code> `</p>
</li>
<li><p>通过id更新索引数据:<code>curl -XPUT &#39;http://server:9200/customer/external/1?pretty&#39; &#39;-d { &quot;name&quot;:&quot;JOhn Doe&quot;}&#39;</code></p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"_index"</span> : <span class="string">"customer"</span>,</span><br><span class="line">  <span class="string">"_type"</span> : <span class="string">"external"</span>,</span><br><span class="line">  <span class="string">"_id"</span> : <span class="string">"1"</span>,</span><br><span class="line">  <span class="string">"_version"</span> : <span class="number">2</span>,</span><br><span class="line">  <span class="string">"_shards"</span> : &#123;</span><br><span class="line">    <span class="string">"total"</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="string">"successful"</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="string">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"created"</span> : <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>添加索引数据随机id:<code>curl -XPOST &#39;http://server:9200/customer/external?pretty&#39; &#39;-d { &quot;name&quot;:&quot;JOhn Doe&quot;}&#39;</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"_index"</span> : <span class="string">"customer"</span>,</span><br><span class="line">  <span class="string">"_type"</span> : <span class="string">"external"</span>,</span><br><span class="line">  <span class="string">"_id"</span> : <span class="string">"AVQFbXxylcDfhGhMoLpJ"</span>,</span><br><span class="line">  <span class="string">"_version"</span> : <span class="number">1</span>,</span><br><span class="line">  <span class="string">"_shards"</span> : &#123;</span><br><span class="line">    <span class="string">"total"</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="string">"successful"</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="string">"failed"</span> : <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"created"</span> : <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>通过id删除：<code>curl -XDELETE &#39;http://server:9200/customer/external/2?pretty&#39;</code></p>
</li>
<li><p>通过查询删除:</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -XDELETE 'http://server:9200/customer/external/_query?pretty' -d '</span><br><span class="line">&#123;</span><br><span class="line">  "query": &#123; "match": &#123; "name": "John" &#125; &#125;</span><br><span class="line">&#125;'</span><br></pre></td></tr></table></figure>
<ul>
<li>批量新增</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -XPOST 'http://server:9200/customer/external/_bulk?pretty' -d '</span><br><span class="line">&#123;"index":&#123;"_id":"1"&#125;&#125;</span><br><span class="line">&#123;"name": "John Doe" &#125;</span><br><span class="line">&#123;"index":&#123;"_id":"2"&#125;&#125;</span><br><span class="line">&#123;"name": "Jane Doe" &#125;</span><br><span class="line">'</span><br></pre></td></tr></table></figure>
<ul>
<li>批量更新/删除</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -XPOST 'http://server:9200/customer/external/_bulk?pretty' -d '</span><br><span class="line">&#123;"update":&#123;"_id":"1"&#125;&#125;</span><br><span class="line">&#123;"doc": &#123; "name": "John Doe becomes Jane Doe" &#125; &#125;</span><br><span class="line">&#123;"delete":&#123;"_id":"2"&#125;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>读文件批量索引</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -XPOST 'http://server:9200/bank/account/_bulk?pretty' --data-binary @accounts.json</span><br></pre></td></tr></table></figure>
<ul>
<li>批量索引操作</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">curl -XPOST 'http://server:9200/bank/_search?pretty' -d '</span><br><span class="line">&#123;</span><br><span class="line">  "query": &#123;</span><br><span class="line">    "bool": &#123;</span><br><span class="line">      "must": [</span><br><span class="line">        &#123; "match": &#123; "address": "mill" &#125; &#125;,</span><br><span class="line">        &#123; "match": &#123; "address": "lane" &#125; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;'</span><br></pre></td></tr></table></figure>
<ul>
<li>查看进程信息，包括打开文件数，是否锁定内存等:<code>curl &#39;http://server:9200/_nodes/process?pretty&#39;</code></li>
</ul>
<h2 id="索引相关"><a href="#索引相关" class="headerlink" title="索引相关"></a>索引相关</h2><table>
<thead>
<tr>
<th style="text-align:left">URL</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/index/_search</td>
<td style="text-align:left">不解释</td>
</tr>
<tr>
<td style="text-align:left">/_aliases</td>
<td style="text-align:left">获取或操作索引的别名</td>
</tr>
<tr>
<td style="text-align:left">/index/</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">/index/type/</td>
<td style="text-align:left">创建或操作类型</td>
</tr>
<tr>
<td style="text-align:left">/index/_mapping</td>
<td style="text-align:left">创建或操作mapping</td>
</tr>
<tr>
<td style="text-align:left">/index/_settings</td>
<td style="text-align:left">创建或操作设置(number_of_shards是不可更改的)</td>
</tr>
<tr>
<td style="text-align:left">/index/_open</td>
<td style="text-align:left">打开被关闭的索引</td>
</tr>
<tr>
<td style="text-align:left">/index/_close</td>
<td style="text-align:left">关闭索引</td>
</tr>
<tr>
<td style="text-align:left">/index/_refresh</td>
<td style="text-align:left">刷新索引（使新加内容对搜索可见）</td>
</tr>
<tr>
<td style="text-align:left">/index/_flush</td>
<td style="text-align:left">刷新索引，将变动提交到lucene索引文件中，并清空elasticsearch的transaction log</td>
</tr>
<tr>
<td style="text-align:left">/index/_optimize</td>
<td style="text-align:left">优化segement，个人认为主要是对segement进行合并</td>
</tr>
<tr>
<td style="text-align:left">/index/_status</td>
<td style="text-align:left">获得索引的状态信息</td>
</tr>
<tr>
<td style="text-align:left">/index/_segments</td>
<td style="text-align:left">获得索引的segments的状态信息</td>
</tr>
<tr>
<td style="text-align:left">/index/_explain</td>
<td style="text-align:left">不执行实际搜索，而返回解释信息</td>
</tr>
<tr>
<td style="text-align:left">/index/_analyze</td>
<td style="text-align:left">不执行实际搜索，根据输入的参数进行文本分析</td>
</tr>
<tr>
<td style="text-align:left">/index/type/id</td>
<td style="text-align:left">操作指定文档，不解释</td>
</tr>
<tr>
<td style="text-align:left">/index/type/id/_create</td>
<td style="text-align:left">创建一个文档，如果该文件已经存在，则返回失败</td>
</tr>
<tr>
<td style="text-align:left">/index/type/id/_update</td>
<td style="text-align:left">更新一个文件，如果改文件不存在，则返回失败</td>
</tr>
</tbody>
</table>
<h2 id="集群相关"><a href="#集群相关" class="headerlink" title="集群相关"></a>集群相关</h2><table>
<thead>
<tr>
<th style="text-align:left">URL</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/_cluster/nodes</td>
<td style="text-align:left">获得集群中的节点列表和信息</td>
</tr>
<tr>
<td style="text-align:left">/_cluster/health</td>
<td style="text-align:left">获得集群信息</td>
</tr>
<tr>
<td style="text-align:left">/_cluster/state</td>
<td style="text-align:left">获得集群里的所有信息（集群信息、节点信息、mapping信息等）</td>
</tr>
</tbody>
</table>
<h2 id="节点相关"><a href="#节点相关" class="headerlink" title="节点相关"></a>节点相关</h2><table>
<thead>
<tr>
<th style="text-align:left">URL</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/_nodes/process</td>
<td style="text-align:left">主要看file descriptor 这个信息</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/process/stats</td>
<td style="text-align:left">统计信息（内存、CPU等）</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/jvm</td>
<td style="text-align:left">获得各节点的虚拟机统计和配置信息</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/jvm/stats</td>
<td style="text-align:left">更详细的虚拟机信息</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/http</td>
<td style="text-align:left">获得各个节点的http信息（如ip地址）</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/http/stats</td>
<td style="text-align:left">获得各个节点处理http请求的统计情况</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/thread_pool</td>
<td style="text-align:left">获得各种类型的线程池，（elasticsearch分别对不同的操作提供不同的线程池）的配置信息</td>
</tr>
<tr>
<td style="text-align:left">/_nodes/thread_pool/stats</td>
<td style="text-align:left">获得各种类型的线程池的统计信息</td>
</tr>
</tbody>
</table>
<p>以上这些操作可以通过如：</p>
<p><code>/_nodes/${nodeId}/jvm/stats</code>，<code>/_nodes/${nodeip}/jvm/stats</code>，<code>/_nodes/${nodeattribute}/jvm/stats</code>的形式针对指定节点的操作。</p>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a data-url="http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-2.html" data-id="cirruu1950023tijxq7c5rgkf" class="article-share-link">分享到</a><div class="tags"><a href="/tags/elasticsearch/">elasticsearch</a><a href="/tags/大数据/">大数据</a></div><div class="post-nav"><a href="/2016/05/27/2016-05-27-elasticsearch-3.html" class="pre">Elasticsearch入门学习(3)——查询</a><a href="/2016/04/11/2016-04-11-elasticsearch-1.html" class="next">Elasticsearch入门学习(1)——安装</a></div><div data-thread-key="2016/04/11/2016-04-11-elasticsearch-2.html" data-title="Elasticsearch入门学习(2)——服务URL" data-url="http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-2.html" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/04/11/2016-04-11-elasticsearch-2.html" data-title="Elasticsearch入门学习(2)——服务URL" data-url="http://keyunluo.github.io/2016/04/11/2016-04-11-elasticsearch-2.html" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/BigData/">BigData</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataBase/">DataBase</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MachineLearning/">MachineLearning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SourceCodeLearning/">SourceCodeLearning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ToDo/">ToDo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/待做事项/" style="font-size: 15px;">待做事项</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/Oracle/" style="font-size: 15px;">Oracle</a> <a href="/tags/DataBase/" style="font-size: 15px;">DataBase</a> <a href="/tags/sqoop/" style="font-size: 15px;">sqoop</a> <a href="/tags/hadoop/" style="font-size: 15px;">hadoop</a> <a href="/tags/二次排序/" style="font-size: 15px;">二次排序</a> <a href="/tags/elasticsearch/" style="font-size: 15px;">elasticsearch</a> <a href="/tags/大数据/" style="font-size: 15px;">大数据</a> <a href="/tags/生活/" style="font-size: 15px;">生活</a> <a href="/tags/毕业/" style="font-size: 15px;">毕业</a> <a href="/tags/VPN/" style="font-size: 15px;">VPN</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/Latex/" style="font-size: 15px;">Latex</a> <a href="/tags/UML/" style="font-size: 15px;">UML</a> <a href="/tags/CentOS/" style="font-size: 15px;">CentOS</a> <a href="/tags/Cloudera/" style="font-size: 15px;">Cloudera</a> <a href="/tags/PlantUML/" style="font-size: 15px;">PlantUML</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/Hadoop/" style="font-size: 15px;">Hadoop</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/12/2016-08-12-hadoop-io-6.html">Hadoop源码学习(10)——Avro(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/11/2016-08-11-hadoop-io-5.html">Hadoop源码学习(9)——Avro(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/10/2016-08-10-hadoop-io-4.html">Hadoop源码学习(8)——序列化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/10/2016-08-10-hadoop-io-3.html">Hadoop源码学习(7)——Writable(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/09/2016-08-09-hadoop-io-2.html">Hadoop源码学习(6)——Writable(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/2016-08-08-java-nio2.html">Java中的NIO2</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/2016-08-08-java-nio.html">Java中的NIO块</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/07/2016-08-07-java-serialize.html">Java中的序列化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/07/2016-08-07-java-io-2.html">Java中的IO流(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/06/2016-08-06-java-io-1.html">Java中的IO流(1)</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 外部链接</i></div><ul></ul><a href="http://keyunluo.github.io/algorithm" title="个人算法练习" target="_blank">个人算法练习</a></div><div class="widget"><div class="widget-title"><i class="fa fa-bar-chart"> 访客</i></div><a href="http://info.flagcounter.com/uNxw"><img src="http://s07.flagcounter.com/count2/uNxw/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_10/viewers_3/labels_0/pageviews_0/flags_0/percent_0/" alt="" border="0"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">流光.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=1.0.0"><script>var duoshuoQuery = {short_name:'streamers'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-76470846-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?945b21807344d0260f24455bbd82dfea";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>